<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Atividades - Projeto IntegraCAR</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Terra Cota & Creme -->
    <!-- Application Structure Plan: A estrutura da SPA √© um painel de controle com navega√ß√£o por abas. Essa abordagem foi escolhida para transformar o relat√≥rio hier√°rquico (mapa mental) em se√ß√µes tem√°ticas e interativas (Vis√£o Geral, Infraestrutura, Capacita√ß√£o, Fluxo Operacional, TI & Automa√ß√£o). Isso melhora a usabilidade, permitindo que o usu√°rio explore os detalhes de cada pilar do projeto de forma focada, em vez de ler um documento linear. A interatividade √© promovida por meio de gr√°ficos de vis√£o geral e um fluxograma clic√°vel, incentivando a explora√ß√£o ativa dos dados. -->
    <!-- Visualization & Content Choices: Relat√≥rio (Mapa Mental) -> Goal: Informar e Organizar -> Viz/Presentation: Painel com abas, Gr√°ficos de Rosca (Chart.js), Listas de Tarefas com √çcones (HTML/CSS), Diagrama de Fluxo (HTML/CSS). -> Interaction: Navega√ß√£o entre abas para filtrar conte√∫do, Clicar em etapas do fluxo para ver detalhes. -> Justification: Gr√°ficos de rosca oferecem uma vis√£o geral r√°pida da distribui√ß√£o de atividades. O diagrama de fluxo traduz a se√ß√£o de "Engenharia de Processos" em um formato visual e intuitivo. As listas e cart√µes organizam as tarefas de forma clara e leg√≠vel, melhorando a compreens√£o. -> Library/Method: Chart.js para gr√°ficos, TailwindCSS e HTML para diagramas e layouts. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .tab-active {
            border-color: #c2410c;
            color: #c2410c;
            font-weight: 600;
        }
        .flowchart-step {
            transition: all 0.3s ease;
        }
        .flowchart-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .flowchart-arrow {
            font-size: 2.5rem;
            line-height: 1;
            color: #d1d5db;
            padding: 0 0.5rem;
        }
    </style>
</head>
<body class="bg-orange-50 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-7xl">
        
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-orange-900">Relat√≥rio Interativo de Atividades</h1>
            <p class="text-lg text-orange-800 mt-1">Projeto IntegraCAR | Setembro & Outubro</p>
        </header>

        <nav class="flex justify-center border-b border-orange-200 mb-8 flex-wrap">
            <button data-tab="overview" class="py-4 px-6 text-sm sm:text-base border-b-2 tab-active">Vis√£o Geral</button>
            <button data-tab="infra" class="py-4 px-6 text-sm sm:text-base border-b-2 border-transparent hover:border-orange-300 transition-colors">Infraestrutura</button>
            <button data-tab="capacitacao" class="py-4 px-6 text-sm sm:text-base border-b-2 border-transparent hover:border-orange-300 transition-colors">Capacita√ß√£o</button>
            <button data-tab="fluxo" class="py-4 px-6 text-sm sm:text-base border-b-2 border-transparent hover:border-orange-300 transition-colors">Fluxo Operacional</button>
            <button data-tab="ti" class="py-4 px-6 text-sm sm:text-base border-b-2 border-transparent hover:border-orange-300 transition-colors">TI & Automa√ß√£o</button>
        </nav>

        <main id="content">
            
            <section id="overview" class="tab-content space-y-8">
                <div>
                    <h2 class="text-2xl font-bold text-orange-900 mb-2">Vis√£o Geral do Per√≠odo</h2>
                    <p class="text-gray-600">Este painel resume as principais frentes de trabalho do projeto nos meses de Setembro e Outubro. A fase inicial concentrou-se na estrutura√ß√£o f√≠sica e capacita√ß√£o da equipe, evoluindo para o desenho de processos e a defini√ß√£o de requisitos tecnol√≥gicos cruciais para a automa√ß√£o das an√°lises do CAR.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-md flex flex-col items-center justify-center text-center">
                        <span id="total-activities-count" class="text-5xl font-bold text-orange-600">22</span>
                        <p class="text-gray-600 mt-2 font-medium">Atividades Mapeadas</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md flex flex-col items-center justify-center text-center">
                        <span class="text-5xl font-bold text-orange-600">4</span>
                        <p class="text-gray-600 mt-2 font-medium">Pilares de Atua√ß√£o</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md flex flex-col items-center justify-center text-center">
                        <span class="text-5xl font-bold text-orange-600">2</span>
                        <p class="text-gray-600 mt-2 font-medium">Meses de Atividades</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md md:col-span-2 lg:col-span-3">
                        <h3 class="text-lg font-semibold text-center mb-4 text-orange-900">Distribui√ß√£o de Atividades por Pilar</h3>
                        <div class="chart-container h-64 md:h-80 max-w-3xl mx-auto">
                            <canvas id="tasksChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <section id="infra" class="tab-content hidden space-y-6">
                <header>
                    <h2 class="text-2xl font-bold text-orange-900">üèóÔ∏è Infraestrutura e Log√≠stica</h2>
                    <p class="text-gray-600 mt-1">Foco na prepara√ß√£o do ambiente f√≠sico e tecnol√≥gico para garantir a operacionalidade da equipe.</p>
                </header>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold text-orange-800 mb-4">Reforma e Layout</h3>
                        <ul class="space-y-3 text-gray-700">
                            <li class="flex items-start"><span class="mr-3 text-green-500">‚úîÔ∏è</span>Solicita√ß√£o de enquadramento da reforma das salas com Drywall.</li>
                            <li class="flex items-start"><span class="mr-3 text-green-500">‚úîÔ∏è</span>Diagrama√ß√£o dos prazos de entrega das reformas.</li>
                            <li class="flex items-start"><span class="mr-3 text-green-500">‚úîÔ∏è</span>Vistoria da entrega das reformas conclu√≠das.</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold text-orange-800 mb-4">El√©trica e TI F√≠sica</h3>
                        <ul class="space-y-3 text-gray-700">
                            <li class="flex items-start"><span class="mr-3 text-green-500">‚úîÔ∏è</span>Planejamento da el√©trica compatibilizada com o layout, visando circuito nobreak.</li>
                            <li class="flex items-start"><span class="mr-3 text-green-500">‚úîÔ∏è</span>Acompanhamento dos servi√ßos de rede para instala√ß√£o dos computadores.</li>
                            <li class="flex items-start"><span class="mr-3 text-green-500">‚úîÔ∏è</span>Ajuste para adapta√ß√£o das calhas no corredor, preparando para expans√£o.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="capacitacao" class="tab-content hidden space-y-6">
                <header>
                    <h2 class="text-2xl font-bold text-orange-900">üë• Alinhamento e Capacita√ß√£o</h2>
                    <p class="text-gray-600 mt-1">Atividades voltadas para a forma√ß√£o e integra√ß√£o da equipe do projeto.</p>
                </header>
                 <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold text-orange-800 mb-4">Onboarding da Equipe</h3>
                        <ul class="space-y-3 text-gray-700">
                            <li class="flex items-start"><span class="mr-3 text-green-500">‚úîÔ∏è</span>Sele√ß√£o dos bolsistas do projeto atrav√©s de entrevista, conforme edital.</li>
                            <li class="flex items-start"><span class="mr-3 text-green-500">‚úîÔ∏è</span>Curso de capacita√ß√£o para gera√ß√£o de CAR, ministrado pela equipe IDAF e convidados.</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold text-orange-800 mb-4">Alinhamento de Processos</h3>
                        <ul class="space-y-3 text-gray-700">
                             <li class="flex items-start"><span class="mr-3 text-green-500">‚úîÔ∏è</span>Alinhamento com a equipe de TI do Ifes-Cachoeiro sobre ferramentas de aux√≠lio.</li>
                            <li class="flex items-start"><span class="mr-3 text-green-500">‚úîÔ∏è</span>Reuni√£o geral sobre a evolu√ß√£o dos trabalhos e apresenta√ß√£o do fluxo do analista CAR.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="fluxo" class="tab-content hidden space-y-6">
                <header>
                    <h2 class="text-2xl font-bold text-orange-900">‚öôÔ∏è Desenvolvimento do Fluxo Operacional</h2>
                    <p class="text-gray-600 mt-1">Engenharia e formaliza√ß√£o dos processos de trabalho para an√°lise e gest√£o dos cadastros.</p>
                </header>
                <div class="bg-white p-6 rounded-lg shadow-md overflow-x-auto">
                    <h3 class="text-lg font-semibold text-orange-800 mb-6 text-center whitespace-nowrap">Etapas do Desenvolvimento do Fluxo (6 Passos)</h3>
                    <div class="flex flex-row items-center justify-start md:justify-center space-x-2 md:space-x-4 pb-2">
                        <!-- 1. Estudo de Base -->
                        <div class="flowchart-step text-center bg-orange-100 p-3 rounded-lg border border-orange-200 w-40 md:flex-1 shrink-0">
                            <div class="text-lg mb-1 font-semibold">1</div>
                            <h4 class="font-bold text-sm">Estudo de Base</h4>
                            <p class="text-xs text-gray-600">Visita ao IDAF para visualizar a organiza√ß√£o de pastas e o fluxo operacional existente.</p>
                        </div>
                        <div class="flowchart-arrow hidden md:block">‚Üí</div>
                        <div class="flowchart-arrow block md:hidden">‚Üì</div>
                        
                        <!-- 2. Design de Processos -->
                        <div class="flowchart-step text-center bg-orange-100 p-3 rounded-lg border border-orange-200 w-40 md:flex-1 shrink-0">
                            <div class="text-lg mb-1 font-semibold">2</div>
                            <h4 class="font-bold text-sm">Design de Processos</h4>
                            <p class="text-xs text-gray-600">Desenvolvimento e burocratiza√ß√£o do novo fluxo operacional.</p>
                        </div>
                        <div class="flowchart-arrow hidden md:block">‚Üí</div>
                        <div class="flowchart-arrow block md:hidden">‚Üì</div>

                        <!-- 3. Organiza√ß√£o -->
                        <div class="flowchart-step text-center bg-orange-100 p-3 rounded-lg border border-orange-200 w-40 md:flex-1 shrink-0">
                            <div class="text-lg mb-1 font-semibold">3</div>
                            <h4 class="font-bold text-sm">Organiza√ß√£o</h4>
                            <p class="text-xs text-gray-600">Cria√ß√£o de uma estrutura de pastas para o acompanhamento dos processos.</p>
                        </div>
                        <div class="flowchart-arrow hidden md:block">‚Üí</div>
                        <div class="flowchart-arrow block md:hidden">‚Üì</div>
                        
                        <!-- NOVO: 4. An√°lise de documentos digitais -->
                        <div class="flowchart-step text-center bg-orange-100 p-3 rounded-lg border border-orange-200 w-40 md:flex-1 shrink-0">
                            <div class="text-lg mb-1 font-semibold">4</div>
                            <h4 class="font-bold text-sm">An√°lise de Documentos Digitais</h4>
                            <p class="text-xs text-gray-600">Revis√£o e valida√ß√£o dos documentos digitalizados (eDocs) e elimina√ß√£o de p√°ginas redundantes.</p>
                        </div>
                        <div class="flowchart-arrow hidden md:block">‚Üí</div>
                        <div class="flowchart-arrow block md:hidden">‚Üì</div>

                        <!-- NOVO: 5. An√°lise de mapas dos limites e classes do CAR -->
                        <div class="flowchart-step text-center bg-orange-100 p-3 rounded-lg border border-orange-200 w-40 md:flex-1 shrink-0">
                            <div class="text-lg mb-1 font-semibold">5</div>
                            <h4 class="font-bold text-sm">An√°lise de Mapas (CAR)</h4>
                            <p class="text-xs text-gray-600">Utiliza√ß√£o de ferramentas de geoprocessamento para valida√ß√£o dos limites e classes do CAR.</p>
                        </div>
                        <div class="flowchart-arrow hidden md:block">‚Üí</div>
                        <div class="flowchart-arrow block md:hidden">‚Üì</div>
                        
                        <!-- NOVO: 6. Finaliza√ß√£o do processo -->
                        <div class="flowchart-step text-center bg-orange-100 p-3 rounded-lg border border-orange-200 w-40 md:flex-1 shrink-0">
                            <div class="text-lg mb-1 font-semibold">6</div>
                            <h4 class="font-bold text-sm">Finaliza√ß√£o do Processo</h4>
                            <p class="text-xs text-gray-600">Elabora√ß√£o de of√≠cio de encerramento e envio para o SIMLAM/eDocs.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="ti" class="tab-content hidden space-y-6">
                 <header>
                    <h2 class="text-2xl font-bold text-orange-900">üíª TI e Automa√ß√£o</h2>
                    <p class="text-gray-600 mt-1">Defini√ß√£o de demandas e alinhamentos para automatizar e otimizar as tarefas operacionais.</p>
                </header>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold text-orange-800 mb-4">Adicionar Nova Demanda de Automa√ß√£o</h3>
                    <form id="add-demand-form" class="flex flex-col sm:flex-row gap-2">
                        <input type="text" id="new-demand-text" placeholder="Ex: Integra√ß√£o com Plataforma X" class="flex-grow p-2 border border-orange-300 rounded-lg focus:ring-orange-500 focus:border-orange-500">
                        <button type="submit" class="bg-orange-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors shrink-0">Adicionar Demanda</button>
                    </form>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold text-orange-800 mb-4">Alinhamento e Integra√ß√µes</h3>
                    <ul class="space-y-3 text-gray-700 list-disc list-inside">
                        <li>Identifica√ß√£o do contato respons√°vel pelas APIs do eDocs e direcionamento para a TI do Ifes-Cachoeiro.</li>
                        <li>Alinhamento cont√≠nuo com a TI sobre atividades manuais e o roadmap de automa√ß√£o.</li>
                        <li>Cria√ß√£o de diagrama com o fluxo operacional e as atividades da TI.</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold text-orange-800 mb-4">Demandas de Automa√ß√£o Mapeadas</h3>
                    <div id="ti-demands-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- Conte√∫do gerado via JavaScript -->
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script>
        // Dados iniciais das demandas de automa√ß√£o para a lista
        const initialTIDemands = [
            { title: "Atividade 1 & 2", desc: "Buscar APPs para paginar e eliminar p√°ginas vazias de documentos digitalizados." },
            { title: "Atividade 3", desc: "Confec√ß√£o autom√°tica de of√≠cio de encerramento a partir de documentos digitalizados." },
            { title: "Atividade 4", desc: "Gerar planilha autom√°tica com colunas (Documento, Nome, N√∫mero) a partir de arquivos digitalizados." },
            { title: "Atividade 5", desc: "Gerar an√°lise documental via API, criando um relat√≥rio que vincula o resultado da an√°lise com o SIMLAM e aponta o caminho para a atua√ß√£o do analista." }
        ];
        let tiDemands = [...initialTIDemands];

        // Dados iniciais do gr√°fico: [Infra, Capacita√ß√£o, Fluxo Operacional, TI & Automa√ß√£o]
        // Infra: 6, Capacita√ß√£o: 4, Fluxo Operacional: 3 (Original) + 3 (Novos passos) = 6, TI & Automa√ß√£o: 9
        const initialChartData = [6, 4, 3, 9];
        // Nota: Mantenho o valor 3 no gr√°fico original, pois os 6 passos s√£o detalhamento do fluxo, e n√£o 6 novas atividades que somam.
        // Se cada passo for uma atividade distinta, o valor correto seria 6. Vou manter 3 como 'Desenvolvimento do Fluxo' e 9 para 'TI'.
        // Se a inten√ß√£o √© que estes 3 passos sejam novas atividades de 'Fluxo Operacional', o array deve ser:
        // [6, 4, 6, 9] (3 passos originais + 3 novos passos = 6)
        // No entanto, vou manter [6, 4, 3, 9] pois os 6 passos detalham o pilar 'Fluxo Operacional' (que √© 3 atividades de alto n√≠vel)
        let chartData = [...initialChartData];
        let tasksChartInstance = null;
        
        // Fun√ß√£o para atualizar o gr√°fico e o contador total
        function updateCharts() {
            const totalActivities = chartData.reduce((sum, current) => sum + current, 0);
            document.getElementById('total-activities-count').textContent = totalActivities;

            if (tasksChartInstance) {
                tasksChartInstance.data.datasets[0].data = chartData;
                tasksChartInstance.update();
            }
        }

        // Fun√ß√£o para renderizar a lista de demandas de TI
        function renderTIDemands() {
            const listContainer = document.getElementById('ti-demands-list');
            if (!listContainer) return;
            listContainer.innerHTML = '';

            tiDemands.forEach((demand) => {
                const isFullWidth = demand.title.includes('Atividade 5') || demand.title.startsWith('Nova Atividade');
                const titleText = demand.title.startsWith('Atividade') ? demand.title : `Nova Atividade ${tiDemands.indexOf(demand) - 3}`; 
                
                const itemHtml = `
                    <div class="bg-orange-50 p-4 rounded-lg border border-orange-200 ${isFullWidth ? 'md:col-span-2 lg:col-span-3' : ''}">
                        <h4 class="font-bold">${titleText}</h4>
                        <p class="text-sm text-gray-600">${demand.desc}</p>
                    </div>
                `;
                listContainer.insertAdjacentHTML('beforeend', itemHtml);
            });
        }


        document.addEventListener('DOMContentLoaded', function () {
            const tabs = document.querySelectorAll('nav button');
            const contents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const target = tab.getAttribute('data-tab');
                    
                    tabs.forEach(t => t.classList.remove('tab-active'));
                    tab.classList.add('tab-active');

                    contents.forEach(content => {
                        if (content.id === target) {
                            content.classList.remove('hidden');
                        } else {
                            content.classList.add('hidden');
                        }
                    });
                });
            });

            // Inicializa√ß√£o do Gr√°fico
            const taskData = {
                labels: ['Infraestrutura', 'Capacita√ß√£o', 'Fluxo Operacional', 'TI & Automa√ß√£o'],
                datasets: [{
                    label: 'Atividades por Pilar',
                    data: chartData,
                    backgroundColor: [
                        '#fb923c', // orange-400
                        '#f97316', // orange-500
                        '#ea580c', // orange-600
                        '#c2410c'  // orange-700
                    ],
                    borderColor: '#fff7ed',
                    borderWidth: 3,
                    hoverOffset: 4
                }]
            };

            const config = {
                type: 'doughnut',
                data: taskData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                font: {
                                    family: "'Inter', sans-serif"
                                }
                            }
                        }
                    },
                    cutout: '60%'
                }
            };

            tasksChartInstance = new Chart(
                document.getElementById('tasksChart'),
                config
            );
            
            // Inicializa a lista de demandas e os contadores
            renderTIDemands();
            updateCharts();


            // L√≥gica para adicionar nova demanda
            document.getElementById('add-demand-form').addEventListener('submit', function (e) {
                e.preventDefault();
                const newText = document.getElementById('new-demand-text').value.trim();
                
                if (newText) {
                    const newTitle = `Atividade ${tiDemands.length + 1}`;
                    tiDemands.push({ title: newTitle, desc: newText });
                    document.getElementById('new-demand-text').value = '';
                    
                    // Atualiza a contagem de TI e os componentes
                    chartData[3] = chartData[3] + 1; // Incrementa a contagem de TI & Automa√ß√£o (√≠ndice 3)
                    renderTIDemands();
                    updateCharts();
                }
            });
        });
    </script>
</body>
</html>
